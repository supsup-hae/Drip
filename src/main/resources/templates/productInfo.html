<%@ page import="org.hello.dbpproject.entity.Product" %>
<%@ page import="java.util.List" %>
<%@ page import="org.hello.dbpproject.Repository.ProductRepository" %><%--
  Created by IntelliJ IDEA.
  User: USER
  Date: 2024-04-06
  Time: 오후 2:05
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<html>
<head>
    <meta charset="UTF-8">
    <title>Drips</title>
    <%--API--%>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <%--Styles--%>
    <link rel="stylesheet" href="../css/carousel.css">
    <link rel='stylesheet' href='../css/bootstrap/bootstrap.css'>
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/index-page.css">
    <link rel="stylesheet" href="../css/theme.css">
    <link rel="stylesheet" href="../css/roster-page.css">

    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.min.css"
            rel="stylesheet"
    />

    <%--Fonts--%>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="../css/fonts.css">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap">

</head>
<body style="overflow-x: hidden">
<jsp:useBean id="member" class="org.hello.dbpproject.entity.Member" scope="session"/>
<jsp:setProperty name="member" property="*"/>
<%--Nav--%>
<nav class="navbar navbar-expand-lg shadow sticky-top ">
    <div class="container-fluid">
        <a class="navbar-brand" href="./index.jsp">
            <img src="../images/logo.png" alt="Drips" width="64" height="60">
        </a>
        <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbar-content">
            <div class="hamburger-toggle">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </button>
        <div class="collapse navbar-collapse" id="navbar-content">
            <ul class="navbar-nav nav-underline mr-auto mb-2 mb-lg-0 ">
                <li class="nav-item dropdown dropdown-mega position-static">
                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                       data-bs-auto-close="outside">Roasters</a>
                    <div class="dropdown-menu shadow">
                        <div class="mega-content px-4">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-12 col-sm-4 col-md-3 py-4">
                                        <div class="card">
                                            <img src="../images/lowkey/logo.jpg"
                                                 class="img-fluid rounded-top " alt="image">
                                            <div class="card-body">
                                                <figure>
                                                    <blockquote class="blockquote text-center py-2">
                                                        <p>lowkey</p>
                                                    </blockquote>
                                                    <figcaption
                                                            class="blockquote-footer text-center">
                                                        서울특별시 성동구 연무장3길 6 <br>
                                                        <a href="lowkey.jsp"
                                                           class="stretched-link"></a>
                                                    </figcaption>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-4 col-md-3 py-4">
                                        <div class="card">
                                            <img src="../images/pastel/logo.jpg"
                                                 class="img-fluid rounded-top" alt="image">
                                            <div class="card-body">
                                                <figure>
                                                    <blockquote class="blockquote text-center py-2">
                                                        <p>Pastel Coffee Works</p>
                                                    </blockquote>
                                                    <figcaption
                                                            class="blockquote-footer text-center">
                                                        서울특별시 마포구 성지길 58 1층
                                                        <a href="PastelCoffeeWorks.jsp"
                                                           class="stretched-link"></a>
                                                    </figcaption>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-4 col-md-3 py-4">
                                        <div class="card">
                                            <img src="../images/peer/logo.jpg"
                                                 class="img-fluid rounded-top" alt="image">
                                            <div class="card-body">
                                                <figure>
                                                    <blockquote class="blockquote text-center py-2">
                                                        <p>Peer Coffee</p>
                                                    </blockquote>
                                                    <figcaption
                                                            class="blockquote-footer text-center">
                                                        서울특별시 성동구 연무장3길 6
                                                        <a href="PeerCoffee.jsp"
                                                           class="stretched-link"></a>
                                                    </figcaption>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-12 col-md-3 py-4">
                                        <div class="card">
                                            <img src="../images/heureum/logo.jpg"
                                                 class="img-fluid rounded-top" alt="image">
                                            <div class="card-body">
                                                <figure>
                                                    <blockquote class="blockquote text-center py-2">
                                                        <p>커피흐름</p>
                                                    </blockquote>
                                                    <figcaption
                                                            class="blockquote-footer text-center">
                                                        경기도 수원시 영통구 하동 975-2
                                                        <a href="CoffeeHeureum.jsp"
                                                           class="stretched-link"></a>
                                                    </figcaption>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                       data-bs-auto-close="outside">Products</a>
                    <ul class="dropdown-menu shadow">
                        <li><a class="dropdown-item" href="${pageContext.request.contextPath}/content/drip-bag.jsp">DripBag</a></li>
                        <li><a class="dropdown-item" href="${pageContext.request.contextPath}/content/supplies.jsp">Supplies</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="${pageContext.request.contextPath}/content/addProduct.jsp">Add Product</a>
                </li>
            </ul>
            <ul class="navbar-nav ms-auto">
                <li class="user-info ms-2 m-auto">
                    <c:if test="${member.status}">
                        <p class="m-0">
                            <c:out value="${member.name}"/>
                            님 어서오세요!
                        </p>
                    </c:if>
                </li>
                <li class="nav-theme ms-2">
                    <a class="nav-link icons" href="#" tabindex="-1" data-bs-toggle-theme="true"
                       aria-disabled="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"/>
                        </svg>
                    </a>
                </li>
                <li class="nav-user ms-1">
                    <a class="nav-link icons" href="/profile"
                       tabindex="-1"
                       data-bs-toggle-theme="true"
                       data-bs-toggle="tooltip" data-bs-placement="bottom"
                       data-bs-title="Login"
                       aria-disabled="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                            <path fill-rule="evenodd"
                                  d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                        </svg>
                    </a>
                </li>
                <li class="nav-cart ms-1">
                    <a class="nav-link icons" href="${pageContext.request.contextPath}/cart" tabindex="-1" data-bs-toggle-theme="true"
                       aria-disabled="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             fill="currentColor" class="bi bi-bag-fill" viewBox="0 0 16 16">
                            <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4z"/>
                        </svg>
                    </a>
                </li>
            </ul>

        </div>
    </div>
</nav>
<%--Nav--%>
<div class="container d-flex justify-content-center mt-5 mb-5">
    <%
        String id = request.getParameter("id");
        ProductRepository productRepository = ProductRepository.getInstance();
        Product product = productRepository.getProductById(id);
    %>
    <div class="row " style="width: 1200px">
        <div class="col">
            <img class="img-fluid img-thumbnail vw-100 vh-50 hover-shadow" src="<%= product.getImgPath().get(0)%>" alt="...">
        </div>
        <div class="col-7 border-top ms-5 position-relative">
            <p class="mt-3 title-font">
                <a href="/content/<%= product.getProductRoastery()%>.jsp" class="link-dark link-opacity-75 link-offset-2">
                    <%= product.getProductRoastery()%>
                </a>
            </p>
            <h3 class="mt-3 text-decoration-underline"><%=product.getProductName() %>
            </h3>
            <div class="mt-3 text-info"><%= product.getProductPrice() %> 원</div>
            <div class="mt-2">Info : <%=product.getProductDescription()%>
            </div>
            <div class="mt-2">Cup Note : <%=product.getCupNote() %>
            </div>
            <div class="mt-2"><%= product.getProductCondition()%> <%=product.getProductCategory()%>
            </div>
            <form class="mt-3" action="${pageContext.request.contextPath}/addToCart" id="addToCart" method="post">
                <div class="input-group" style="width: 100px">
                    <%
                        session.setAttribute("selectedProductId", product.getProductId());
                    %>
                    <input type="button" value="-" class="button-minus border border-black bg-black" data-field="quantity" style="width: 30px">
                    <input type="number" class="form-control border-2 border-black text-center flex-grow-1" step="1" value="1" name="quantity">
                    <input type="button" value="+" class="button-plus border border-black bg-black" data-field="quantity" style="width: 30px">
                </div>
            </form>
            <div class="btn-group shadow-0 d-flex position-absolute bottom-0 start-0 mb-5 w-75 ms-2" role="group" aria-label="Basic example"
                 style="height: 50px">
                <button type="button" class="btn btn-outline-dark w-100" data-mdb-color="dark" data-mdb-ripple-init><p class="btn-text m-auto">
                    구매하기</p></button>
                <button type="submit" form="addToCart" class="btn btn-outline-dark w-100" data-mdb-color="dark" data-mdb-ripple-init><p
                        class="btn-text m-auto">
                    장바구니</p></button>
            </div>
        </div>
    </div>
</div>

<%--Products--%>
<%--Footer--%>
<footer class="text-center text-lg-start bg-body-tertiary text-muted pt-5">
    <%-- Section: Links  --%>
    <section class="">
        <div class="container text-center text-md-start mt-5">
            <%-- Grid row --%>
            <div class="row mt-3">
                <%-- Grid column --%>
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <%-- Content --%>
                    <h6 class="text-uppercase fw-bold mb-4">
                        <i class="fas fa-gem me-3"></i> 201958110 신윤섭
                    </h6>
                    <p>
                        DataBase Programming
                    </p>
                </div>
                <%-- Grid column --%>

                <%-- Grid column --%>
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <%-- Links --%>
                    <h6 class="text-uppercase fw-bold mb-4">
                        Roastery
                    </h6>
                    <p>
                        <a href="/content/lowkey.jsp" class="text-reset">lowkey</a>
                    </p>
                    <p>
                        <a href="/content/PastelCoffeeWorks.jsp" class="text-reset">Pastel Coffee Works</a>
                    </p>
                    <p>
                        <a href="/content/PeerCoffee.jsp" class="text-reset">Peer Coffee</a>
                    </p>
                    <p>
                        <a href="/content/CoffeeHeureum.jsp" class="text-reset">Coffee Heureum</a>
                    </p>
                </div>
                <%-- Grid column --%>

                <%-- Grid column --%>
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <%-- Links --%>
                    <h6 class="text-uppercase fw-bold mb-4">
                        Products
                    </h6>
                    <p>
                        <a href="content/drip-bag.jsp" class="text-reset">Drip Bag</a>
                    </p>
                    <p>
                        <a href="/content/supplies.jsp" class="text-reset">Supplies</a>
                    </p>
                </div>
                <%-- Grid column --%>

                <%-- Grid column --%>
                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <%-- Links --%>
                    <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
                    <p><i class="fas fa-home me-3"></i>한신대학교 장준하기념관 18201-1</p>
                    <p>
                        <i class="fas fa-envelope me-3"></i>
                        zksdbstjq@hs.ac.kr
                    </p>
                    <p><i class="fas fa-phone me-3"></i>010-1234-5679</p>
                </div>
                <%-- Grid column --%>
            </div>
            <%-- Grid row --%>
        </div>
    </section>
    <%-- Section: Links  --%>

    <%-- Copyright --%>
    <div class="text-center p-4 bg-black text-light">
        © 2024 Copyright:
        <a class="text-reset fw-bold link-light" href="https://github.com/F-UMI">Shin Yun Seop</a>
    </div>
    <%-- Copyright --%>
</footer>
<%--Footer--%>
<%-- Script --%>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src='../js/bootstrap.bundle.min.js'></script>
<script src="../js/day-night.js"></script>
<script src="../js/navbar.js"></script>
<script src="../js/swiper.js"></script>
<script src="../js/quantity.js"></script>
<%-- MDB --%>
<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.2.0/mdb.umd.min.js"
></script>
</body>
</html>

`